

## 定位Java服务端开发
### [技术框架、知识点梳理](https://github.com/Pirate5946/techframework)

结合项目经历，突出重点

自己擅长的部分不一定完全对口，争取进步机会

突出核心优势、查漏补缺、完善技术架构、持续学习

---

相信时间的力量，念念不完，必有回响

### 参考资料
- https://mp.weixin.qq.com/s/waV4C0bUzAq5GUXM23-wpA

### 经历的项目
4.0项目难点

- 配置双数据源：aop、不读取springboot.properties 因此分析了mybatis-plus启动过程，when how 加载资源文件，生成sqlsessionfactory
- 页面数据版本校验：页面查询后 redis保存当前版本，同时页面缓存版本
- excel导出： 自定义注解 定义导出顺序，特殊字段处理、异步线程池查询
- 操作日志 自定义注解 消息队列解耦、新旧对象比较
- 接口并发控制： aop
- 并发生成订单号

## 1. Java基础
- [java集合容器类](http://cmsblogs.com/?p=3980)、[Java集合框架](http://www.cnblogs.com/leesf456/p/5345493.html)、[Java8容器源码札记](https://blog.csdn.net/panweiwei1994/column/info/16661)
    - list 、源码、
    - set、源码
    - map、源码

## 2. Java进阶

### 2.0 反射
- [万字总结之反射（框架之魂）](https://juejin.im/post/5e37b5dc6fb9a02fd742bf68?utm_source=gold_browser_extension)
反射（spring启动类加载配置类、aop） 、 class、method、注解（aop）、 设计模式、 

### 2.1 [JUC并发集合框架综述](https://www.cnblogs.com/leesf456/tag/JUC/)
https://leetcode-cn.com/problemset/concurrency/
- 线程安全的 list、set、map
- 线程池
- 线程有序的实现
- 多线程（aqs 抽象队列同步器、jdk8 hashmap优化）、 volitile（可见性、同步性） ， synchronized （原子性）

[进程如何保持同步、线程如何保持同步？](https://blog.csdn.net/okiwilldoit/article/details/78487507)
1. 互斥锁（pthread_mutex_t ） 
2. 条件变量（需要与互斥锁结合使用） 
3. 信号量 
4. 无锁CAS 
5. 校验方式

##### [Java8如何优化 CAS性能](https://mp.weixin.qq.com/s?__biz=MzU0OTk3ODQ3Ng==&mid=2247484070&idx=1&sn=c1d49bce3c9da7fcc7e057d858e21d69&chksm=fba6eaa5ccd163b3a935303f10a54a38f15f3c8364c7c1d489f0b1aa1b2ef293a35c565d2fda&scene=21#wechat_redirect) - Compare and swap
- 原子类 automic ：高并发下单个数值的累加，==JDK8 新增 LongAddr，分段CAS，自动分段迁移==

##### ==谈谈你对 AQS的理解==      
- 抽象队列同步器，java并发包的基础类，==内部维护了 state变量（int类型）、当前持有锁的线程、线程等待队列==

##### 微服务注册中心的读写锁优化
读写锁是非常适合这种读多写少的场景

写入数据时，其他线程不能读也不能写

读数据时，其他线程可以读、不能写

## 3. [JVM优化、处理内存溢出](https://blog.csdn.net/yswknight/article/details/79372646)
参考文章 
- https://blog.csdn.net/xxxx3/article/details/81009524
- https://blog.csdn.net/ZYC88888/article/details/64905716

OOM堆内存溢出：
- 堆初始值（-Xms）和堆最大可用值（-Xmx）设置的再大一点

栈内存溢出：
- -Xss 5m 

PermGen space
- JAVA_OPTS=" -XX:PermSize=64M -XX:MaxPermSize=128m" 

优化目标
- GC的时间足够的小 
- GC的次数足够的少 
- 发生Full GC(新生代和老年代)的周期足够的长 

要想GC时间小必须要一个更小的堆，要保证GC次数足够少，必须保证一个更大的堆，我们只能取其平衡

## 4. 算法、结合Java集合框架
掌握简单的算法、坚持刷题
- [剑指offer 66题](https://www.nowcoder.com/profile/2595631/codeBooks)
- [leetcode经典编程题](https://www.nowcoder.com/ta/leetcode)
- [《讲道理，这应该是我看过最通俗生动的排序算法讲解了！》](https://mp.weixin.qq.com/s/iuDVZqShmg1CV6bdXVQmKw)
- [程序员必须掌握的核心算法有哪些？](https://blog.csdn.net/m0_37907797/article/details/102661778)
- topk

## 5. [分布式系统 - 微服务相关组件](https://blog.csdn.net/qq_42046105/article/details/83793787) https://blog.csdn.net/qq_42046105
- [微服务性能优化](https://blog.csdn.net/java_zyq/article/details/84955282)
    - 优化接口性能，减少调用时长，==不要使用复杂sql处理复杂业务，简化sql，优化业务代码逻辑== 
    - 超时参数设置（一秒以内） ==hystrix的线程池以及超时时间的最佳生产实践==
    - 设置自动重试次数（一到两次）
    - 保证幂等性（数据库设置唯一索引或者redis设置唯一ID值），避免插入重复数据
- rpc、分布式服务
    - NIO、分布式通信
    - [实现分布式锁的三种方法（redis、数据库、zookeeper)](https://www.cnblogs.com/garfieldcgf/p/6380816.html)
- [分布式系统的并发控制（分布式锁）](https://blog.csdn.net/u012867699/article/details/78796114)      
    由于有多个JVM，单个应用上的同步，可能从数据库读到多个数值（不可重复读），
    - [从数据库的层面，进行乐观锁的同步](https://www.cnblogs.com/zuolun2017/p/8026575.html)
    - redis 分布式锁
    - zookeeper 分布式锁
- redis 
    - 常用数据类型
    - 单线程、持久化
- rocketmq、rabbitmq
    - 操作日志
    - 异步推送消息
    - 并发解耦、流量削峰
    - 跟异步线程比的区别（不用占用所在服务机器的资源）

## 6. Spring 、springmvc、springboot
- spring IOC 、 AOP
    - [《面试被问烂的 Spring IOC(求求你别再问了)》](https://www.jianshu.com/p/17b66e6390fd)
    - [《Spring AOP是什么？你都拿它做什么》](https://mp.weixin.qq.com/s?__biz=MzAxNjk4ODE4OQ==&mid=2247485005&idx=1&sn=6e243d48516b8708d452884239ac9abd&chksm=9bed273fac9aae298e9c0a70be688244b1173a8f944aa681b291998eca6d1cd9ff9049dc6308&scene=21#wechat_redirect)
- spring 用到的设计模式
- AOP结合注解，完成JDBC事务控制
- AOP结合注解，记录请求的日志、权限控制
- springboot start实现
- springcloud 组件

##### 事务
- AOP结合注解，完成JDBC事务控制

## 7. Java web、SpringMVC
[客户端程序怎么解析http请求？](https://blog.csdn.net/sky_100/article/details/77541968)    
- Tomcat的两个核心组件：Connector和Container，[一个Connector组件将在某个指定的端口上侦听客户请求，接收浏览器发过来的tcp连接请求](https://www.cnblogs.com/small-boy/p/8042860.html)
- [http请求已经被封装成 HttpServletRequest 和 HttpServletResponse](https://www.cnblogs.com/xdp-gacl/p/3798347.html)

[一个http请求过来springMVC是如何处理的？](https://blog.csdn.net/wuruijiang/article/details/78970110)
- [DispatcherServlet](https://jinnianshilongnian.iteye.com/blog/1602617) （控制器设计模式）spring web mvc的集中访问点
- springMVC自定义参数转换规则
    - 从HTTP请求和上下文环境 获取参数、转换参数、验证结果
        - Converter ： 一对一转换器
        - GenericConverter : 集合和数组转换
        - Formatter : 特殊类型格式化（日期、枚举。。。）
    - SpringMVC 如何管理参数转换器 ： DefaultFomattingConversitionService
    - SpringBoot 如何管理参数转换器 ： WebMvcAutoConfigurationAdapter

## 8. 数据库
- [牛客网sql实战](https://www.nowcoder.com/ta/sql)
    - sql优化
        - 查看慢查询日志，explain 执行计划， profile详细过程
        - 分析ddl、查询列是否有索引，查询列不能用计算函数
        - 避免全表查找
- 数据库查询优化思路 - 参考《史上最全SQL优化方案》     
（只从sql语句性能谈一下，不谈服务器参数、数据库应用参数）
    - 优化维度 -  硬件、系统配置、数据库表结构、==SQL及索引==。 
    - explain 查看执行计划，索引主键是如何利用的，数据表是如何被搜索和排序 
    - 查看索引是否合理、是否生效，考虑sql改写
        - 对常用的搜索字段设置索引
        - 对join表的共同字段设置索引
        - 不要使用 order by rand()
        - 避免 select *
        - 建表时尽量使用 not null，设置默认值
        - 不对查询列进行计算（避免走全表扫描）
    - 架构优化 - 对超大表进行分库分表
- mysql索引优化、事务、悲观锁、乐观锁、公平锁、非公平锁
    - https://www.cnblogs.com/daxian2012/articles/2767989.html
    - ReentrantLock的公平锁与非公平锁(https://blog.csdn.net/jiang13479/article/details/80679794)
- redis - [除了缓存，Redis 都解决了哪些问题？](http://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&mid=2247486872&idx=1&sn=124d80fa4f575fa16c69f018172d8ff3&chksm=fa497229cd3efb3f7416de05d998558b3419a06b5438017e2cba7d03c30d41fc900ad58150f8&mpshare=1&scene=1&srcid=#rd)
    - 常用数据结构 
    - 常用来解决什么问题

## 9. 其他 
- [设计模式](http://cmsblogs.com/?p=3396)


#### 网络基础
- http、https比较 、 
- 浏览器输入url全过程、
- tcp、utp
- websocket


#### 开放式问题，拓展部分

##### Nginx负载均衡时是如何判断某个节点挂掉了？


##### k8s的储存方式是怎样的？

---

### 面试经历
#### 201902  保盛航服
- mybatis 一二级缓存配置
- 缓存雪崩和失效的场景
    - 热点缓存key失效，大量请求直接访问数据库，导致数据库连接耗尽；==解决方案：在查询数据库数据之前再查一遍redis（双重检查），查询数据库之后，新建redis缓存，设置过期时间== 
- 多线程、锁
- rpc框架； dubbo、spring cloud
- 数据库优化思想、
    - 单列索引、多列索引区别
- 第三方接口调用超时
- 线上内存溢出的场景和处理方法
- 代码优化的经验
- 消息队列的作用 https://blog.csdn.net/qq_39470733/article/details/80576013
    - 解耦：代码接口，新增调用不改代码，从队列中获取 
    - 异步：耗时逻辑进行异步
    - 削峰：高并发场景，避免超出数据库负荷
---

#### 201806 《20180613面试boss直聘、明良海外》  
##### 1. 循环删除list中 满足条件的对象Java          
使用Iterator 的 remove方法

【考虑线程安全】这个问题要分单线程环境和多线程环境来考虑
- 多线程建议使用  CopyOnWriteArrayList

【问题分析】
- https://www.cnblogs.com/dolphin0520/p/3933551.html        

【延伸知识点】  
- ConcurrentModificationException异常原因和解决方法
- fast-fail 机制

##### 2. 从1000w个数字中找出最小的10个并打印      
代码见  eclipse工程  /InterviewPrepare/src/Collections/TopK.java    
    1. 直接从文件从读取1000w个数字（大约100M）到JVM的 BufferedReader 对象，
    2. 调用 readLine 方法拼成字符串，然后拆分到数组中，
    3. 调用 Arrays.sort(int[])
    4. 从排完序的数组中，输出前十个数字     

【知识点】    
- BufferedReader
- Arrays.sort
##### 3. 使三个线程 A,B,C 依次执行
- [解决思路](https://blog.csdn.net/u011519624/article/details/79039380)     

方法1. 在主线程中  使用 join

方法2. 利用并发包里的Excutors的newSingleThreadExecutor产生一个单线程的线程池

代码参考 ： D:\Eclipse_neon\interviewPrepare\src\Thread\SortedThread.java

---
[Java面试题...重点](http://www.jianshu.com/p/5a9809f383f7)

[回答阿里社招面试如何准备，顺便谈谈对于Java程序猿学习当中各个阶段的建议](http://www.zuoxiaolong.com/html/article_184.html)

1. Java基础知识扎实，研究了util、JUC的源代码；熟知Java util、JUC原理和思想； 
2. 掌握基本的JVM调优，熟知Java内存模型与JVM理论知识； 
3. 熟练使用SSH、SSI框架，熟悉Spring的核心思想，研究了Spring IoC的部分源代码，了解IOC、AOP、事务、Spring MVC的核心思想； 
4. 掌握基本的设计模式，在工作中熟练使用模板方法、单例、代理、工厂、装饰者模式；有一定的代码重构经验； 
5. 掌握分布式的基本概念，如存储、RPC、消息队列的一些基本理论